#   palette = c("lightblue", "pink"),
#   domain = c(0, 10)
# )  |>
cols_label(
`Legal Requirement` = "Legal<br>Requirement",
`3rd Party Integration` = "3rd Party<br>Integration",
`Baseline & Localization` = "Baseline &<br>Localization",
`Deviation from Global way of working` = "Deviation<br>from Global<br>way of<br>working",
`Total by Area` = "Totals",
.fn = md
) |>
data_color(
columns = `Total by Area`,
#rows =  `Total by Area` > 15,
method = "numeric",
palette = c("lightblue", "pink"),
domain = c(0, 16)
)
in_data_s2 |>
filter(!is.na(stream)) |>
filter(!str_detect(status, "99. Cancelled")) |>
filter(!is.na(charm_number)) |>
filter(!str_detect(charm_number, "Wait")) |>
filter(!str_detect(charm_number, "NA")) |>
select(stream, charm_number, bid_classification) |>
count(stream, bid_classification, sort = T) |>
filter(!is.na(bid_classification)) |>
filter(!str_detect(bid_classification, "NA")) |>
filter(!str_detect(bid_classification, "template")) |>
mutate(bid_classification = case_when(
str_detect(bid_classification, "Legal") ~ "Legal Requirement",
str_detect(bid_classification, "Integration") ~ "3rd Party Integration",
str_detect(bid_classification, "Waiting") ~ "3rd Party Integration",
TRUE ~ bid_classification
)) |>
count(stream, bid_classification, wt = n) |>
group_by(stream) |>
mutate(`Total by Area` = sum(n)) |>
ungroup() |>
pivot_wider(names_from = bid_classification,
values_from = n) |>
relocate(`Legal Requirement`, .after = last_col()) |>
relocate(`3rd Party Integration`, .after = last_col()) |>
relocate(`Baseline & Localization`, .after = last_col()) |>
relocate(`Deviation from Global way of working`, .after = last_col()) |>
relocate(`Total by Area`, .after = last_col()) |>
arrange(`Total by Area`) |>
# mutate(color = "") |>
gt(rowname_col = "stream") |>
tab_header(
title = md(paste("BID Quantities", fontawesome::fa("city") , "FMS-SAP")),
subtitle = "Status at 2023-12-19"
) |>
sub_missing()  |>
grand_summary_rows(
# columns = -c(color),
fns = list(
total = ~ sum(., na.rm = TRUE)
)
) |>
tab_options(
table.font.size = 24
) |>
tab_style(
style = list(
cell_fill(color = "darkred"),
cell_text(color = "white")),
locations = cells_grand_summary(
columns = `Deviation from Global way of working`,
rows = 1
)
) |>
# data_color(
#   columns = `3rd Party Integration`,
#   rows =  `3rd Party Integration` > 5,
#   method = "numeric",
#   palette = c("lightblue", "pink"),
#   domain = c(0, 10)
# )  |>
cols_label(
`Legal Requirement` = "Legal<br>Requirement",
`3rd Party Integration` = "3rd Party<br>Integration",
`Baseline & Localization` = "Baseline &<br>Localization",
`Deviation from Global way of working` = "Deviation<br>from Global<br>way of<br>working",
`Total by Area` = "Totals",
.fn = md
) |>
data_color(
columns = `Total by Area`,
#rows =  `Total by Area` > 15,
method = "numeric",
palette = c("lightblue", "pink"),
domain = c(0, 16)
)
library(palmerpenguins)
library(tidyverse)
library(gt)
penguins_gt <-
penguins %>%
count(island, year, species, sex) %>%
filter(!is.na(sex)) %>%
pivot_wider(names_from = c(species, sex),
values_from = n,
names_glue = "{species} ({sex})",
values_fill = 0) %>%
gt()
penguins_gt
penguins_gt
penguins_gt <-
penguins_gt %>%
cols_align(align = "right",
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`))
penguins_gt
penguins_gt <-
penguins_gt %>%
tab_header(title = "Pinguins no Arquipélago Palmer na Antártica",
subtitle = "palmerpinguins in R dataset") %>%
opt_align_table_header(align = "left")
penguins_gt
penguins_gt <-
penguins_gt %>%
cols_label(
`Adelie (female)` = "female",
`Adelie (male)`   = "male",
`Gentoo (female)` = "female",
`Gentoo (male)`   = "male",
`Chinstrap (female)` = "female",
`Chinstrap (male)` = "male"
) %>%
tab_spanner(
label = c("Adele"),
columns = c(`Adelie (female)`, `Adelie (male)`)
) %>%
tab_spanner(
label = c("Chinstrap"),
columns = c(`Chinstrap (female)`, `Chinstrap (male)`)
) %>%
tab_spanner(
label = c("Gentoo"),
columns = c(`Gentoo (female)`, `Gentoo (male)`)
) %>%
tab_style(style = cell_text(weight = "bold"),
location = cells_column_spanners())
penguins_gt
penguins_gt <-
penguins %>%
count(island, year, species, sex) %>%
mutate(island = str_c("Ilha: ", island)) %>%
filter(!is.na(sex)) %>%
pivot_wider(names_from = c(species, sex),
values_from = n,
names_glue = "{species} ({sex})",
values_fill = NA) %>%
gt(rowname_col = "year",
groupname_col = "island") %>%
tab_header(title = "Pinguins no Arquipélago Palmer na Antártica",
subtitle = "palmerpinguins in R dataset") %>%
opt_align_table_header(align = "left") %>%
cols_align(align = "right",
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`)) %>%
cols_label(
`Adelie (female)` = "female",
`Adelie (male)`   = "male",
`Gentoo (female)` = "female",
`Gentoo (male)`   = "male",
`Chinstrap (female)` = "female",
`Chinstrap (male)` = "male"
) %>%
tab_spanner(
label = c("Adele"),
columns = c(`Adelie (female)`, `Adelie (male)`)
) %>%
tab_spanner(
label = c("Gentoo"),
columns = c(`Gentoo (female)`, `Gentoo (male)`)
) %>%
tab_spanner(
label = c("Chinstrap"),
columns = c(`Chinstrap (female)`, `Chinstrap (male)`)
) %>%
tab_style(style = cell_text(weight = "bold"),
location = cells_column_spanners()) %>%
tab_style(style = cell_text(weight = "bold"),
location = cells_row_groups()) %>%
sub_missing(
columns = everything(),
missing_text = "-"
)
```{nguins_gt}
penguins_gt
fns_labels <-
list(
# avg = ~mean(., na.rm = TRUE),
`Média` = ~mean(., na.rm = TRUE)
#,
# s.d. = ~sd(., na.rm = TRUE)
)
penguins_gt <-
penguins_gt %>%
summary_rows(
groups = TRUE,
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`),
fns = fns_labels,
formatter = fmt_number,
decimals = 0
) %>%
tab_style(style = cell_fill(color = "lightgray"),
location = cells_summary())
penguins_gt
penguins_gt
fns_labels <-
list(
# avg = ~mean(., na.rm = TRUE),
`Média` = ~mean(., na.rm = TRUE)
#,
# s.d. = ~sd(., na.rm = TRUE)
)
penguins_gt <-
penguins_gt %>%
summary_rows(
groups = TRUE,
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`),
fns = fns_labels,
formatter = fmt_number,
decimals = 0
) %>%
tab_style(style = cell_fill(color = "lightgray"),
location = cells_summary())
penguins_gt <-
penguins_gt %>%
summary_rows(
groups = TRUE,
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`),
fns = fns_labels,
formatter = fmt_number,
decimals = 0
) %>%
tab_style(style = cell_fill(color = "lightgray"),
location = cells_summary())
penguins_gt <-
penguins_gt %>%
summary_rows(
groups = TRUE,
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`),
fns = fns_labels,
formatter = fmt_number,
decimals = 0
) %>%
tab_style(style = cell_fill(color = "lightgray"),
location = cells_summary(everything()))
penguins_gt <-
penguins_gt %>%
summary_rows(
groups = TRUE,
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`),
fns = fns_labels,
formatter = fmt_number,
decimals = 0
) %>%
tab_style(style = cell_fill(color = "lightgray"),
location = cells_summary(columns = everything()))
penguins_gt <-
penguins_gt %>%
summary_rows(
groups = TRUE,
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`),
fns = fns_labels,
formatter = fmt_number,
decimals = 0
) %>%
tab_style(style = cell_fill(color = "lightgray"),
location = cells_summary(groups = everything(),
columns = everything(),
rows = 1))
install.packages("tidyselect")
install.packages("tidyselect")
install.packages("tidyselect")
install.packages("tidyselect")
install.packages(c("arules", "BH", "bookdown", "brew", "brio", "bslib", "checkmate", "cluster", "colourpicker", "cowplot", "credentials", "crosstalk", "curl", "data.table", "datawizard", "DBI", "dbplyr", "desc", "descr", "DiceDesign", "downlit", "dreamerr", "DT", "e1071", "epikit", "ergm", "fixest", "foreign", "future", "future.apply", "gargle", "gdtools", "gert", "ggfun", "ggimage", "ggplotify", "ggrepel", "ggridges", "gifski", "glue", "googledrive", "googlesheets4", "graphlayouts", "gtExtras", "gtools", "haven", "htmlwidgets", "httpuv", "httr2", "igraph", "infer", "insight", "jsonlite", "later", "lattice", "lava", "lme4", "lpSolveAPI", "magick", "markdown", "Matrix", "matrixStats", "memisc", "mgcv", "modeldata", "network", "networkDynamic", "nlme", "parameters", "parsnip", "patchwork", "performance", "pkgbuild", "plotly", "polyclip", "posterior", "processx", "prodlim", "progress", "progressr", "psych", "ragg", "Rcpp", "RcppArmadillo", "RcppEigen", "RCurl", "readr", "recipes", "reprex", "reticulate", "rlang", "robustbase", "rpart", "rsample", "RSQLite", "rstan", "rstanarm", "rstantools", "rsvg", "s2", "sandwich", "sass", "seriation", "servr", "sf", "sna", "StanHeaders", "svglite", "tensorA", "testthat", "tidygraph", "tidymodels", "timeDate", "tune", "units", "usethis", "V8", "vcd", "vroom", "wk", "XML", "xml2", "yaml", "yulab.utils"))
install.packages("tidyselect")
library(tidyselect)
library(palmerpenguins)
library(tidyverse)
library(tidyselect)
library(gt)
library(gt)
penguins_gt <-
penguins %>%
count(island, year, species, sex) %>%
filter(!is.na(sex)) %>%
pivot_wider(names_from = c(species, sex),
values_from = n,
names_glue = "{species} ({sex})",
values_fill = 0) %>%
gt()
penguins_gt
penguins_gt <-
penguins_gt %>%
cols_align(align = "right",
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`))
penguins_gt
penguins_gt <-
penguins_gt %>%
tab_header(title = "Pinguins no Arquipélago Palmer na Antártica",
subtitle = "palmerpinguins in R dataset") %>%
opt_align_table_header(align = "left")
penguins_gt
penguins_gt <-
penguins_gt %>%
cols_label(
`Adelie (female)` = "female",
`Adelie (male)`   = "male",
`Gentoo (female)` = "female",
`Gentoo (male)`   = "male",
`Chinstrap (female)` = "female",
`Chinstrap (male)` = "male"
) %>%
tab_spanner(
label = c("Adele"),
columns = c(`Adelie (female)`, `Adelie (male)`)
) %>%
tab_spanner(
label = c("Chinstrap"),
columns = c(`Chinstrap (female)`, `Chinstrap (male)`)
) %>%
tab_spanner(
label = c("Gentoo"),
columns = c(`Gentoo (female)`, `Gentoo (male)`)
) %>%
tab_style(style = cell_text(weight = "bold"),
location = cells_column_spanners())
penguins_gt
penguins_gt <-
penguins %>%
count(island, year, species, sex) %>%
mutate(island = str_c("Ilha: ", island)) %>%
filter(!is.na(sex)) %>%
pivot_wider(names_from = c(species, sex),
values_from = n,
names_glue = "{species} ({sex})",
values_fill = NA) %>%
gt(rowname_col = "year",
groupname_col = "island") %>%
tab_header(title = "Pinguins no Arquipélago Palmer na Antártica",
subtitle = "palmerpinguins in R dataset") %>%
opt_align_table_header(align = "left") %>%
cols_align(align = "right",
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`)) %>%
cols_label(
`Adelie (female)` = "female",
`Adelie (male)`   = "male",
`Gentoo (female)` = "female",
`Gentoo (male)`   = "male",
`Chinstrap (female)` = "female",
`Chinstrap (male)` = "male"
) %>%
tab_spanner(
label = c("Adele"),
columns = c(`Adelie (female)`, `Adelie (male)`)
) %>%
tab_spanner(
label = c("Gentoo"),
columns = c(`Gentoo (female)`, `Gentoo (male)`)
) %>%
tab_spanner(
label = c("Chinstrap"),
columns = c(`Chinstrap (female)`, `Chinstrap (male)`)
) %>%
tab_style(style = cell_text(weight = "bold"),
location = cells_column_spanners()) %>%
tab_style(style = cell_text(weight = "bold"),
location = cells_row_groups()) %>%
sub_missing(
columns = everything(),
missing_text = "-"
)
penguins_gt
penguins_gt
fns_labels <-
list(
# avg = ~mean(., na.rm = TRUE),
`Média` = ~mean(., na.rm = TRUE)
#,
# s.d. = ~sd(., na.rm = TRUE)
)
penguins_gt <-
penguins_gt %>%
summary_rows(
groups = TRUE,
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`),
fns = fns_labels,
formatter = fmt_number,
decimals = 0
) %>%
tab_style(style = cell_fill(color = "lightgray"),
location = cells_summary())
penguins_gt <-
penguins_gt %>%
summary_rows(
groups = TRUE,
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`),
fns = fns_labels,
formatter = fmt_number,
decimals = 0
)
penguins_gt <-
penguins_gt %>%
summary_rows(
groups = TRUE,
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`),
fns = fns_labels,
formatter = fmt_number,
decimals = 0
)  %>%
tab_style(style = cell_text(weight = "bold"),
location = cells_row_groups())
penguins_gt <-
penguins_gt %>%
summary_rows(
groups = TRUE,
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`),
fns = fns_labels,
formatter = fmt_number,
decimals = 0
)  %>%
tab_style(style = cell_text(weight = "bold"))
penguins_gt <-
penguins_gt %>%
summary_rows(
groups = TRUE,
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`),
fns = fns_labels,
formatter = fmt_number,
decimals = 0
)  %>%
tab_style(style = cell_fill(color = "lightgray"),
location = cells_row_groups())
penguins_gt <-
penguins_gt %>%
summary_rows(
groups = TRUE,
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`),
fns = fns_labels,
formatter = fmt_number,
decimals = 0
)  %>%
tab_style(style = cell_fill(color = "lightgray"),
location = cells_grand_summary())
penguins_gt <-
penguins_gt %>%
summary_rows(
groups = TRUE,
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`),
fns = fns_labels,
formatter = fmt_number,
decimals = 0
)
penguins_gt
penguins_gt <-
penguins_gt %>%
summary_rows(
groups = TRUE,
columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`),
fns = fns_labels,
formatter = fmt_number,
decimals = 0
)
penguins_gt
penguins_gt <-
penguins_gt %>%
sub_zero(columns = c(`Adelie (female)`, `Adelie (male)`,
`Gentoo (female)`, `Gentoo (male)`,
`Chinstrap (female)`, `Chinstrap (male)`),
zero_text = "-")
penguins_gt
install.packages("rosdata")
