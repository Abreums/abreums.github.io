<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Marcos Abreu">
<meta name="dcterms.date" content="2023-10-13">
<meta name="description" content="Os desafios da Gestão de Mudanças nos projetos.">

<title>Marcos Abreu’s blog - Gestão de Mudanças</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Marcos Abreu’s blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Gestão de Mudanças</h1>
                  <div>
        <div class="description">
          Os desafios da Gestão de Mudanças nos projetos.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Change Management</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p><a href="https://abreums.github.io">Marcos Abreu</a> <a href="https://orcid.org/0000-0003-4772-7955" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 13, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p>Gostaria de compartihar três coisas que acho que serão importantes neste projeto.</p>
<section id="pessoas" class="level2">
<h2 class="anchored" data-anchor-id="pessoas">Pessoas</h2>
<p>Gestão de mudanças começa o término de alguma coisa (a frase é do William Bridges, assim como os exemplos que seguem). Considere que você está mudando de casa. A casa para a qual você está se mudando é maior, mais nova e fica em um bairro melhor do que a casa atual. Você está feliz com a mudança. Mas ainda assim sente uma melancolia, uma tristeza que não consegue explicar.</p>
<p>A casa nova parece ser melhor em todos os sentidos que a casa velha. Ainda assim, o que você está perdendo ao se mudar de casa?</p>
<ol type="1">
<li>Relacionamentos: você está perdendo as amizades que desenvolveu com a vizinhança.</li>
<li>Conhecimento: para a casa velha, você conhece os caminhos alternativos para usar nos dias de congestionamento, ou ainda onde encontrar uma farmácia aberta às 2h da madrugada para comprar um remério para seu filho.</li>
<li>Recordações: a pintura da casa nova pode ser melhor, mas você vai perder os risquinhos atrás da porta onde você anotou a altura do seu filho enquanto acompanhava ele crescer.</li>
</ol>
<p>O processo de absorver as perdas durante um momento de mudança é chamado de <em>Transição</em>. Este processo pode ser difícil às vezes. Podemos ficar irritados porque perdemos algo, e não aproveitar as oportunidades que se apresentam com os novos benefícios.</p>
<p>Por isto é muito importante termos consciência do que estamos perdendo. E mais importante ainda saber que é importante deixar as coisas do passado irem.</p>
<p>E no caso de você estar recebendo uma promoção ou se mudando para um emprego novo? O novo cargo vem cheio de desafios que você está ansioso para enfrentar, ele significa um avanço na sua carreira, novas resposabilidades e uma remuneração maior. Ainda assim, você o que você está perdendo?</p>
<ol type="1">
<li>Competência: você era considerado uma pessoa competente na sua posição antiga. Nesta nova posição você sente a expectativa dos outros e o questionamentos velados se você conseguirá repetir seu desempenho anterior.</li>
<li>Amigos: você estará trabalhando com outra equipe.</li>
</ol>
<p>O projeto SAP na ASICS será a nossa casa nova. Com mais espaço e mais opções. Ainda assim, no começo podemos sentir frustração ou raiva da casa nova por causa das perdas que ela nos traz.</p>
<p>Vamos viver um período de especificações e customizações no novo sistema até o momento em que ele será ligado e passaremos a trabalhar sobre ele. Neste instante, perderemos toda a nossa competência. E isto trará bastante frustração e insatisfação.</p>
<p>Temos que estar preparados para viver nossas perdas, e não deixar elas atrapalharem a oportunidade que temos com o novo que está vindo.</p>
<p>Toda mudança começa com um fim.</p>
<p>Nas próximas semanas, durante as atividades de <em>fit gap analysis</em> vocês estarão conversando sobre software, sobre funcionalidades de software, e configurações de software. Eu peço que vocês façam apenas uma coisa: de vez em quando, parem, fechem os olhos e pensem na Maria que trabalha na expedição, ou no João que trabalha na loja, ou na Bárbara que trabalha na contabilidade, e perguntem: o que ela/ele estão perdendo?</p>
<p>Mesmo que uma funcionalidade do sistema novo não precisa de customização (deu <em>fit</em>! Não vamos precisar fazer nada!), não significa que a pessoa que vai utilizar aquela funcionalidade não precise fazer uma transição.</p>
<p>Por isto, junto com a especificação de <em>fit gap analysis</em> vamos desenvolver uma segunda especificação chamada <em>Plano de Gestão de Impactos</em>. Onde vamos listar as ações para que as pessoas façam suas transições e os impactos não aconteçam.</p>
</section>
<section id="aprendizagem" class="level2">
<h2 class="anchored" data-anchor-id="aprendizagem">Aprendizagem</h2>
<p>Lá em casa, pelo menos 1 vez por mês eu e minha esposa temos a mesma conversa. Quando a gente descobre que está falando de novo sobre a mesma coisa, começamos a dar risada. Às vezes o tema da conversa é a cozinha, às vezes o quartinho de despejo, mas na maior parte da vezes é o guarda-roupas. E o motivo é simples: não tem mais espaço no guarda-roupas.</p>
<p>A gente sabe que a melhor coisa a fazer é separar aquelas roupas que não usamos para doar, e assim abrir espaço.</p>
<p>Outro dia eu cheguei em casa e minha esposa tinha passado a tarde esvaziando o guarda-roupas e separando roupas para doar. Ela virou para mim e disse: como é difícil nos desfazermos das coisas!</p>
<p>O primeiro passo no processo de aprendizagem é nos desfazermos de alguns conceitos e preconceitos para poder abrir espaço para novos conceitos.</p>
<p>Outro ponto importante para entender como aprendemos, é entender como funciona nossos cérebros.</p>
<p>Nossos cérebros possuem duas memórias, uma chamada de longo prazo, onde guardamos o que aprendemos, e outra chamada <em>memória de trabalho</em>, onde armazenamos apenas as informações que estamos utilizando num momento específico. O problema da memória de trabalho é que ela é muito limitada em espaço. Por este motivo é sabido que dirigir e usar o celular ao mesmo tempo não é possível, porque estas duas atividades consomem mais espaço do que há disponível em nossa memória de trabalho.</p>
<p>Uma estratégia que utilizamos para conseguir colocar mais coisas na memória de trabalho é transformar algum tipo de informação de <em>informação intrínsica</em>, que é o nome que damos para as informações diretamente ligadas ao problema que queremos resolver, em <em>informação genuína</em>, que é um tipo de informação para a qual somos bastante treinados, ou especialistas. As informações genuínas ocupam menos espaço na nossa memória de trabalho, e ao nos especializarmos conseguimos colocar mais informação na memória de trabalho.</p>
<p>O problema é que a transformação de informação intrínsica em informação genuína toma tempo e prática.</p>
<p>Hoje, saber usar o sistema atual é uma informação genuína, não é ela que ocupa espaço na sua memória de trabalho quando você está resolvendo um problema como cadastrar um novo produto, ou emitir uma nota fiscal.</p>
<p>A partir do momento em que passarmos a utilizar o novo sistema, este conhecimento que até agora era genuíno, passará a ser intrínsico, o que fará com que você realize as mesmas atividades que realiza hoje com uma performance muito pior.</p>
<p>Chamamos isto de <em>Learning Curve</em>: o período durante o qual você estará se especializando no novo sistema. É muito importante escolher adequadamente este período, para diminuir a carga de trabalho relacionada com problemas de negócio, para que você possa utilizar mais espaço da sua memória de trabalho no processo de especialização.</p>
<p>A queda de performance durante a <em>Learning Curve</em> deixará você frustrado e irritado. Não fique, faz parte do processo.</p>
</section>
<section id="engajamento" class="level2">
<h2 class="anchored" data-anchor-id="engajamento">Engajamento</h2>
<p>Por fim, eu gostaria de falar sobre <em>engajamento</em>, e gostaria de deixar claro que não se trata de <em>torcida</em> ou <em>euforia</em>. Vou contar uma história para explicar o que significa engajamento.</p>
<p>Gestão de Mudança não é uma disciplina nova. Ela começou na primeira metade do século XX através dos trabalhos de um psicólogo judeu-polonês chamado Kurt Lewin.</p>
<p>Durante a segunda guerra mundial, para ter suprimentos para as tropas, o governo norte-americano instituiu um controle sobre a quantidade de comida que poderia ser comprada. E, para amenizar a situação, o governo criou um programa para incentivar as famílias a consumirem proteína animal não nobre. O que é proteína animal não nobre? São partes como rins, fígado, lingua, etc.</p>
<p>O governo norte-americano realizada aulas de culinárias para as donas de casa, para ensiná-las receitas com estas carnes não nobres, uma das mais famosas ficou sendo a de torta de rins. Não é comum para nós, mas ainda é bastante apreciada na américa do norte.</p>
<p>Num primeiro momento as donas de casa achavam estranho fazer torta de rins. Então os cozinheiros contratados pelos governo, ensinavam elas a preparar a receita, e elas se surpriendiam como a torta fica deliciosa.</p>
<p>Passado algum tempo, o governo voltava e perguntava se elas haviam preparado torta de rins para suas famílias. E elas respondiam que não. “Mas você aprendeu a receita”? “Sim”. “E gostou”? “Sim, é deliciosa”. “Então porque não fez para sua família”?</p>
<p>Para resolver este problema o governo chamou Kurt Lewin e disse: não sabemos o que está contecendo.</p>
<p>O que Kurt Lewin sabia era que para uma dona de casa, não basta ela saber uma receita ou o resultado ser gostoso para ela servir para sua família - afinal, eu posso lhe ensinar uma receita deliciosa de torta de maconha e mesmo que você aprenda a fazer, você não vai servir isto para usa família. Uma dona de cada tem como <em>valor</em> fazer coisas boas para sua família.</p>
<p>Para termos <em>engajamento</em> é importante que concordemos com o que significa <em>valor</em> em relação ao que fazemos.</p>
<p>E <em>valor</em> não é alguma coisa que recebemos, mas é algo que construímos em conjunto. O <em>valor</em> está no <em>reconhecimento da comunidade</em> no que é aceito como algo bom.</p>
<p>É por isto que as empresas hoje quando lançam produtos ou tecnologias correm para criar <em>comunidades de prática</em> dos usuários dos produtos e tecnologias, porque além da funcionalidade prática oferecida, é preciso construir um entendimento de valor entre os praticantes.</p>
<p>Engajamento é construído através do compartilhamento de experiências e percepções, e ele é percebido pelo entendimento do que é valor para o coletivo.</p>
</section>
<section id="conclusão" class="level2">
<h2 class="anchored" data-anchor-id="conclusão">Conclusão</h2>
<p>Em função de tudo isto que eu disse talvez fique mais claro a importância da comunicação no processo de gestão de mudanças. Uma comunicação baseada na escuta e compartilhamento.</p>
<p>Em resumo, o que eu gostaria de falar sobre Gestão de Mudanças é:</p>
<ol type="1">
<li>Pensem nas pessoas: qual dor elas sentirão com esta mudança que estamos fazendo?</li>
<li>Limpem seus guarda-roupas: conhecimentos novos e desafiadores precisam de espaço para serem recebidos.</li>
<li>Compartilhem: o mudança individual é primordial, mas só vamos construir um novo conceito de valor se compartilharmos nossas experiências, ansiedades, preocupações e reultados.</li>
</ol>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@misc{abreu2023,
  author = {Abreu, Marcos},
  title = {Gestão de {Mudanças}},
  date = {2023-10-13},
  url = {https://abreums.github.io/posts/2023-10-13-pense-nas-pessoas/},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-abreu2023" class="csl-entry quarto-appendix-citeas" role="listitem">
Abreu, Marcos. 2023. <span>“Gestão de Mudanças.”</span> October 13,
2023. <a href="https://abreums.github.io/posts/2023-10-13-pense-nas-pessoas/">https://abreums.github.io/posts/2023-10-13-pense-nas-pessoas/</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>