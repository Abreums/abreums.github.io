{
  "hash": "3661bad3177ca4e20b7d74974699e2eb",
  "result": {
    "markdown": "---\ntitle: \"Exercícios em R sobre Probabilidade\"\nauthor: \"Marcos Abreu\"\ndate: \"2022-09-14\"\ncategories: [stat]\n---\n\n\nOs exercícios e conceitos apresentados abaixo foram retirados do capítulo 2 do livro [Introduction to Econometrics with R](https://www.econometrics-with-r.org/).\n\n![Photo by Naser Tamimi on Unsplash](naser-tamimi-yG9pCqSOrAg-unsplash.jpg)\n\nPhoto by [Naser Tamimi](https://unsplash.com/@tamiminaser?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unplash](https://unsplash.com/s/photos/probability?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText).\n\n### 1. Amostragem\n\nComo gerar números aleatórios a partir de um conjunto? Para jogar na mega-sena é preciso escolher 6 números dentre 60 de 00 até 59. Como selecionar em R 6 números aleatórios para jogar na mega-sena?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(123)\nsample(0:59, 6)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 30 14 50 13  2 41\n```\n:::\n:::\n\n\nComo escolher 2 frutas aleatórias do conjunto: pêra, maçã, banana, mamão e jabuticaba?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(123)\nfrutas = c(\"pêra\", \"maçã\", \"banana\", \"mamão\", \"jabuticaba\")\nsample(frutas, 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"banana\" \"maçã\"  \n```\n:::\n:::\n\n\n### 2. Variância\n\nA variância de uma variável discreta **Y** é descrita como:\n\n$$\n\\sigma_Y^2 = Var(Y) = E[(Y - \\mu_y)^2] = \\sum_{i = 1}^{k}(y_i - \\mu_i)^2p_i\n$$ sendo o desvio padrão de **Y**, denominado $\\sigma_Y$, a raiz quadrada da variância.\n\nImportante notar que R não possui uma função que calcula a variância. A função **var()** calcula a *variância de uma amostra* cuja equação é dada por:\n\n$$\n\\sigma_Y^2 = {1 \\over (n - 1)} \\sum_{i = 1}^{n}(y_i - \\overline{y})^2\n$$ que é diferente da equação da *variância de uma população* dada por:\n\n$$\nVar(Y) {1 \\over N} \\sum_{i = 1}^{n}(y_i - \\mu_Y)^2\n$$ A diferença fica clara quando comparamos os resultados para um exemplo de um jogo de dados:\n\n$$\nVar(Y) = {1 \\over 6} \\sum_{i = 1}^{6}(d_i - 3.5)^2 =\n$$\n\n$$\n= {1 \\over 6}[(1 - 3.5)^2 + (2 - 3.5)^2 + (3 - 3.5)^2 + (4 - 3.5)^2 + (5 - 3.5)^2 + (6 - 3.5)^2] = \n$$\n\n$$\n= {1 \\over 6}[6.25 + 2.25 + 0.25 + 0.25 + 2.25 + 6.25] = 2.92\n$$\n\nenquanto que em R a variância da população:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# variância:\ny <- 1:6\ny_mean <- mean(y)\nvar_y <- sum((y - mean(y))^2)/6\nvar_y\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 2.916667\n```\n:::\n:::\n\n\ne a variância da amostra:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# variância da amostra:\nvar(1:6)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 3.5\n```\n:::\n:::\n\n\n### 3. Função de Densidade Probabilística (FDP)\n\nConsidere a variável aleatória *X* com função de densidade probabilística igual a:\n\n$$\nf(x) = \\frac{x}{4} e^{-x^2/8}, x > 0\n$$\n\nDefina uma função em R com esta equação:\n\n\n::: {.cell}\n\n```{.r .cell-code}\npdf_x <- function(x) {\n  (x/4) * (exp(-1*(x^2)/8))\n}\n\npdf_x(0)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0\n```\n:::\n\n```{.r .cell-code}\npdf_x(1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.2206242\n```\n:::\n\n```{.r .cell-code}\npdf_x(c(2,4,6))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.30326533 0.13533528 0.01666349\n```\n:::\n\n```{.r .cell-code}\npdf_x(Inf)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] NaN\n```\n:::\n:::\n\n\nPara que *f(x)* seja uma FDP sua integral sobre o domínio deverá ser 1:\n\n$$\n\\int_{0}^{\\infty} f(x)dx = 1\n$$ Em R, a função *integrate* permite calcular a integral passando como parâmetros a função e os limites:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nintegrate(pdf_x, 0, Inf)$value\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1\n```\n:::\n:::\n\n\nO parâmetro *value* após a função permite capturar o retorno da mesma. Pesquise por *integrate* no help do R.\n\n### 4. Valor Esperado e Variância\n\nVamos calcular o valor esperado e a variância de uma variável contínua considerando a função *f(x)* definida anterioremente.\n\nO valor esperado é dado por (Lembrando que a função está definida para x \\>= 0):\n\n$$\nE(x) = \\int_{0}^{\\infty}x f_X(x)dx\n$$\n\nUtilizaremos a função *pdf_x* definida no exemplo anterior.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nex <- function(x){\n  x*pdf_x(x)\n} \nexpected_value <- integrate(ex, 0, Inf)$value\n```\n:::\n\n\nA variância é obtida por:\n\n$$\nVar(X) = E(X^2) - E(X)^2, onde E(X^2) = \\int_{0}^{\\infty}x^2f_X(x)dx\n$$\n\n\n::: {.cell}\n\n```{.r .cell-code}\nex2 <- function(x){\n  x^2*pdf_x(x)\n}\nvariance <- integrate(ex2, 0, Inf)$value - expected_value^2\nvariance\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1.716815\n```\n:::\n:::\n\n\n4.  Distribuição Normal\n\nEm R a distribuição normal padrão possui uma série de funções:\n\n-   *rnorm(n, mean = 0, sd = 1)*\n\nRetorna *n* elementos de uma distribuição normal com $\\mu$ = 0 e $\\sigma$ = 1:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrnorm(3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1.55870831 0.07050839 0.12928774\n```\n:::\n\n```{.r .cell-code}\nrnorm(3, mean = 1, sd = 1.5)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1]  3.5725975  1.6913743 -0.8975919\n```\n:::\n:::\n\n\n-   *dnorm(x, mean = 0, sd = 1, log = FALSE)*\n\nRetorna a densidade da distribuição para os valores de x:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndnorm(3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.004431848\n```\n:::\n\n```{.r .cell-code}\ndnorm(1:3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.241970725 0.053990967 0.004431848\n```\n:::\n:::\n\n\n-   *pnorm(q, mean = 0, sd = 1, lower.tail = TRUE, log.p = FALSE)*\n-   *qnorm(p, mean = 0, sd = 1, lower.tail = TRUE, log.p = FALSE)*\n\n*pnorm* calcula a probabilidade: $P(x \\leq q)$ para um valor de q.\n\n$P(x \\leq -1)$\n\n\n::: {.cell}\n\n```{.r .cell-code}\npnorm(-1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.1586553\n```\n:::\n:::\n\n\n*qnorm* calcula o valor de q para a probabilidade indicada: \\$P(x \\leq q) = 0.975 \\$P(x \\leq q) = 0.975\n\n\n::: {.cell}\n\n```{.r .cell-code}\nqnorm(0.975)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1.959964\n```\n:::\n:::\n\n\n#### Exercícios\n\n1.  Qual a P(\\|x\\| \\leq 1.64)?\n\n$$\nP(|x| \\leq 1.64) = \n= P(-1.64 \\leq x \\leq 1.64)  =\n$$\n\n\n::: {.cell}\n\n```{.r .cell-code}\npnorm(1.64)-pnorm(-1.64)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.8989948\n```\n:::\n:::\n\n\n2.  Considere a distribuição normal *N*(5, 25). Calcule o quantile com 99% desta distribuição. Ou seja $\\phi({{x-5}\\over{5}}) = 0.99$\n\n\n::: {.cell}\n\n```{.r .cell-code}\nqnorm(0.99, mean = 5, sd = sqrt(25))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 16.63174\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}