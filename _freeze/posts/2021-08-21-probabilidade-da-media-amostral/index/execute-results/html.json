{
  "hash": "68cbee617632d3a7649f5915f68299ff",
  "result": {
    "markdown": "---\ntitle: \"Probabilidade da Média Amostral\"\ndescription: \"Sobre o Teorema Central do Limite\"\ndate: 2021-08-21\nauthor: \n  - name: Marcos Abreu\n    url: https://abreums.github.io\n    orcid: 0000-0003-4772-7955\ncitation:\n  type: post-weblog\n  url: https://abreums.github.io/posts/2021-08-21-proabilidade-da-media-amostral/\n  language: pt-br\nimage: \"distrib_facet_plot.png\"\ncategories: [Rstats]\n---\n\n\nO **Teorema central do limite** - na teoria das probabilidades - afirma que quando o tamanho da amostra aumenta, a distribuição amostral da sua média aproxima-se de uma distribuição normal.\n\nIsto é verdadeiro mesmo quando a distribuição da população não é normal.\n\nVamos verificar se conseguimos um exemplo deste fenômeno, considerando uma população de 1.000 elementos entre 0 e 1 gerados a partir de uma distribuição uniforme.\n\nPrimeiro vamos gerar nossa população:\n\n\n::: {.cell}\n\n````{.cell-code}\n```{{r}}\n#| warning: false\n#| message: false\nlibrary(tidyverse)\n\nnum = 100000\n\n# criamos uma população de 1000 elementos distribuidos entre 0 e 1 uniformemente\npopulacao = tibble(elemento = runif(n = num))\n\npopulacao |> \n  ggplot() +\n  geom_histogram(aes(elemento), \n                 bins = 20,\n                 fill = \"steelblue\",\n                 color = \"white\") +\n  theme_minimal() +\n  labs(title = \"Histograma com 1.000 elementos com valores entre 0 até 1\",\n       x = NULL,\n       y = NULL)\n```\n````\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\nSegundo o Teorema Central do Limite, conforme o tamanho da amostra aumenta, a distribuição amostral da média se aproxima de uma distribuição normal.\n\nDesta forma, mesmo que a distribuição da população não siga uma distribuição normal a distribuição da média amostral seguirá o formato de uma distribuição normal.Vamos verificar se isto acontece para a nossa população.\n\nPodemos avaliar tanto o impacto do tamanho da amostra quanto do número de amostras realizadas. Vamos analisar considerando a combinação de amostras de tamanho 50, 1000 e 10.000 elementos, e de número de amostras de 50, 200 e 500.\n\n### Produzindo Amostras\n\nPara gerar as amostrar vamos utilizar a função R-base *sample*:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# 1k médias de amostras de tamanho 50\n\nmy_data = tibble(\n  sample_size = as.integer(c(50, 1000, 5000)),\n  num_of_samples = as.integer(c(50, 200, 500))\n)\n\ncombined_data <- \n  my_data |> \n  expand(sample_size, num_of_samples)\n\ncomputes_dist_of_means_of_samples <- function(a_vector, sample_size, num_of_samples) {\n  1:num_of_samples |> \n    map(~ sample(a_vector, \n                 sample_size) |> \n          mean()) |> \n    reduce(c) \n}\n\ncombined_data <- \ncombined_data |> \n  group_by(sample_size, num_of_samples) |> \n  summarise(values = computes_dist_of_means_of_samples(populacao$elemento,\n                                                    sample_size,\n                                                    num_of_samples))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`summarise()` has grouped output by 'sample_size', 'num_of_samples'. You can\noverride using the `.groups` argument.\n```\n:::\n\n```{.r .cell-code}\ncombined_data |> \n  ggplot(aes(x = values)) +\n  geom_histogram(fill = \"#668877\") +\n  facet_grid(sample_size ~ num_of_samples) +\n  labs(title = \"Distribuições do valor médio de amostras para diferentes tamanhos de amostras e diferentes números de amostras coletados\",\n       x = \"Variações no número de amostras\",\n       y = \"Variações no tamanho das amostras\") +\n  theme_minimal()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n```\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\nPelo gráfico gerado vemos que o formato de curva normal se apresentou em todas as situação. Percebemos que com o aumento no tamanho da amostra (50, 1.000, 10.000) é responsável por uma concentração das médias amostrais. Enquanto que o aumento no número de amostras realizadas é responsável por uma suavização da curva.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}